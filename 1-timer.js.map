{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n\nconst picker = document.getElementById(\"datetime-picker\");\nconst startButton = document.querySelector(\".start-button\");\nconst daysEl = document.querySelector(\"[data-days]\");\nconst hoursEl = document.querySelector(\"[data-hours]\");\nconst minutesEl = document.querySelector(\"[data-minutes]\");\nconst secondsEl = document.querySelector(\"[data-seconds]\");\n\nlet userSelectedDate;\nlet timerInterval;\n\nflatpickr(picker, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate <= new Date()) {\n            iziToast.error({\n                title: \"Помилка\",\n                message: \"Please choose a date in the future\",\n                position: \"topRight\",\n            });\n            startButton.disabled = true;\n        } else {\n            startButton.disabled = false;\n        }\n    }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const startButton = document.querySelector(\".start-button\");\n    startButton.disabled = true;\n});\n\n\nstartButton.addEventListener(\"click\", () => {\n    startButton.disabled = true;\n    picker.disabled = true;\n    startCountdown();\n});\n\nfunction startCountdown() {\n    timerInterval = setInterval(() => {\n        const timeLeft = userSelectedDate - new Date();\n        if (timeLeft <= 0) {\n            clearInterval(timerInterval);\n            updateTimer({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n            picker.disabled = false;\n            startButton.disabled = true;\n            return;\n        }\n        updateTimer(convertMs(timeLeft));\n    }, 1000);\n}\n\nfunction convertMs(ms) {\n    return {\n        days: Math.floor(ms / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((ms % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n        minutes: Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60)),\n        seconds: Math.floor((ms % (1000 * 60)) / 1000),\n    };\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, \"0\");\n}\n\nfunction updateTimer({ days, hours, minutes, seconds }) {\n    daysEl.textContent = days;\n    hoursEl.textContent = addLeadingZero(hours);\n    minutesEl.textContent = addLeadingZero(minutes);\n    secondsEl.textContent = addLeadingZero(seconds);\n}"],"names":["picker","startButton","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","timerInterval","flatpickr","selectedDates","startCountdown","timeLeft","updateTimer","convertMs","ms","addLeadingZero","value","days","hours","minutes","seconds"],"mappings":"wIAIA,MAAMA,EAAS,SAAS,eAAe,iBAAiB,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EACAC,EAEJC,EAAUR,EAAQ,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQS,EAAe,CACnBH,EAAmBG,EAAc,CAAC,EAC9BH,GAAoB,IAAI,MACxB,SAAS,MAAM,CACX,MAAO,UACP,QAAS,qCACT,SAAU,UAC1B,CAAa,EACDL,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAE9B,CACL,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMA,EAAc,SAAS,cAAc,eAAe,EAC1DA,EAAY,SAAW,EAC3B,CAAC,EAGDA,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvBD,EAAO,SAAW,GAClBU,GACJ,CAAC,EAED,SAASA,GAAiB,CACtBH,EAAgB,YAAY,IAAM,CAC9B,MAAMI,EAAWL,EAAmB,IAAI,KACxC,GAAIK,GAAY,EAAG,CACf,cAAcJ,CAAa,EAC3BK,EAAY,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EACzDZ,EAAO,SAAW,GAClBC,EAAY,SAAW,GACvB,MACH,CACDW,EAAYC,EAAUF,CAAQ,CAAC,CAClC,EAAE,GAAI,CACX,CAEA,SAASE,EAAUC,EAAI,CACnB,MAAO,CACH,KAAM,KAAK,MAAMA,GAAM,IAAO,GAAK,GAAK,GAAG,EAC3C,MAAO,KAAK,MAAOA,GAAM,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,EACjE,QAAS,KAAK,MAAOA,GAAM,IAAO,GAAK,KAAQ,IAAO,GAAG,EACzD,QAAS,KAAK,MAAOA,GAAM,IAAO,IAAO,GAAI,CACrD,CACA,CAEA,SAASC,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASJ,EAAY,CAAE,KAAAK,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACpDlB,EAAO,YAAce,EACrBd,EAAQ,YAAcY,EAAeG,CAAK,EAC1Cd,EAAU,YAAcW,EAAeI,CAAO,EAC9Cd,EAAU,YAAcU,EAAeK,CAAO,CAClD"}